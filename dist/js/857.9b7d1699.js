"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[857],{2854:function(t,a,e){t.exports=e.p+"img/loading.46c42de7.gif"},4857:function(t,a,e){e.r(a),e.d(a,{default:function(){return J}});var s=e(641),l=e(33),o=e(2854);const r={class:"hero"},c={class:"container"},i={class:"hero-content pb-5 text-center"},n={class:"row"},d={class:"col-xl-8 offset-xl-2"},u={class:"lead text-muted"},k={class:"container"},v={class:"row mb-5"},p={class:"col-lg-8"},L={class:"cart"},m={class:"cart-wrapper"},_={key:0,class:"cart-body"},h={class:""},f={class:"row d-flex align-items-center text-center"},g={class:"col-5"},b={class:"d-flex align-items-center"},x=["src"],y={class:"cart-title text-start"},C={class:"text-muted text-sm"},w={class:"text-muted text-sm"},T={class:"col-2"},A={class:"col-2"},E={class:"col-2 text-center"},F={class:"col-1 text-center"},X=["onClick"],$={key:1,class:"cart-body"},j={class:"my-5 d-flex justify-content-between flex-column flex-lg-row"},P={class:"col-lg-4"},z={class:"block mb-5"},M={class:"block-body bg-light pt-1"},Q={class:"order-summary mb-0 list-unstyled"},W={class:"order-summary-item"},D={class:"order-summary-item"},I={class:"order-summary-item border-0"},K={class:"order-summary-total"};function N(t,a,e,N,S,q){const B=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.Lk)("section",r,[(0,s.Lk)("div",c,[(0,s.Lk)("div",i,[a[0]||(a[0]=(0,s.Lk)("h3",{class:"mt-5"},"Detalles del carrito",-1)),(0,s.Lk)("div",n,[(0,s.Lk)("div",d,[(0,s.Lk)("p",u," Tienes "+(0,l.v_)(S.n_productos)+" productos en tu carrito",1)])])])])]),(0,s.Lk)("section",null,[(0,s.Lk)("div",k,[(0,s.Lk)("div",v,[(0,s.Lk)("div",p,[(0,s.Lk)("div",L,[(0,s.Lk)("div",m,[a[5]||(a[5]=(0,s.Fv)('<div class="cart-header text-center"><div class="row"><div class="col-5">Producto</div><div class="col-2">Precio</div><div class="col-2">Cantidad</div><div class="col-2">Total</div><div class="col-1"></div></div></div>',1)),S.load_data?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",_,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(S.carrito,(t=>((0,s.uX)(),(0,s.CE)("div",h,[(0,s.Lk)("div",f,[(0,s.Lk)("div",g,[(0,s.Lk)("div",b,[(0,s.bF)(B,{to:{name:"detalles_producto",params:{slug:t.producto.slug}}},{default:(0,s.k6)((()=>[(0,s.Lk)("img",{class:"cart-item-img",src:t.producto.portada,alt:"..."},null,8,x)])),_:2},1032,["to"]),(0,s.Lk)("div",y,[(0,s.bF)(B,{class:"text-uppercase text-dark",to:{name:"detalles_producto",params:{slug:t.producto.slug}}},{default:(0,s.k6)((()=>[(0,s.Lk)("strong",null,(0,l.v_)(t.producto.nombre.substr(0,20)),1)])),_:2},1032,["to"]),a[1]||(a[1]=(0,s.Lk)("br",null,null,-1)),(0,s.Lk)("span",C,"Talla: "+(0,l.v_)(t.variedad.talla),1),a[2]||(a[2]=(0,s.Lk)("br",null,null,-1)),(0,s.Lk)("span",w,"Color: "+(0,l.v_)(t.variedad.color),1)])])]),(0,s.Lk)("div",T,(0,l.v_)(q.convertCurrency(t.producto.precio)),1),(0,s.Lk)("div",A,(0,l.v_)(t.cantidad),1),(0,s.Lk)("div",E,(0,l.v_)(q.convertCurrency(t.producto.precio*t.cantidad)),1),(0,s.Lk)("div",F,[(0,s.Lk)("a",{class:"cart-remove",style:{cursor:"pointer"},onClick:a=>q.eliminar_producto_cart(t._id)},a[3]||(a[3]=[(0,s.Lk)("i",{class:"fa fa-times"},null,-1)]),8,X)])])])))),256))])),S.load_data?((0,s.uX)(),(0,s.CE)("div",$,a[4]||(a[4]=[(0,s.Lk)("div",{class:"row"},[(0,s.Lk)("div",{class:"col-12"},[(0,s.Lk)("img",{src:o,style:{width:"60px !important"}})])],-1)]))):(0,s.Q3)("",!0)])]),(0,s.Lk)("div",j,[(0,s.bF)(B,{class:"btn btn-dark",to:"/catalogo"},{default:(0,s.k6)((()=>a[6]||(a[6]=[(0,s.Lk)("i",{class:"fa fa-chevron-left"},null,-1),(0,s.eW)(" Continuar comprando")]))),_:1})])]),(0,s.Lk)("div",P,[(0,s.Lk)("div",z,[a[12]||(a[12]=(0,s.Lk)("div",{class:"block-header"},[(0,s.Lk)("h6",{class:"text-uppercase mb-0"},"Tu orden")],-1)),(0,s.Lk)("div",M,[a[10]||(a[10]=(0,s.Lk)("p",{class:"text-sm"},"El costo del envio puede variar dependiendode Codigo postal.",-1)),(0,s.Lk)("ul",Q,[(0,s.Lk)("li",W,[a[7]||(a[7]=(0,s.Lk)("span",null,"Subtotal: ",-1)),(0,s.Lk)("span",null,"   "+(0,l.v_)(q.convertCurrency(S.total)),1)]),(0,s.Lk)("li",D,[a[8]||(a[8]=(0,s.Lk)("span",null,"Costo del envio:",-1)),(0,s.Lk)("span",null,"   "+(0,l.v_)(q.convertCurrency(S.envio)),1)]),(0,s.Lk)("li",I,[a[9]||(a[9]=(0,s.Lk)("span",{class:"text-center"},"Total: ",-1)),(0,s.Lk)("strong",K,"   "+(0,l.v_)(q.convertCurrency(S.total+S.envio)),1)])])]),(0,s.bF)(B,{class:"btn btn-dark",to:{name:"pago_carrito"}},{default:(0,s.k6)((()=>a[11]||(a[11]=[(0,s.eW)("Proceder al pago "),(0,s.Lk)("i",{class:"fa fa-chevron-right"},null,-1)]))),_:1})])])])])])])}var S=e(4335),q=e(4329),B={name:"detallesCartApp",data(){return{n_productos:0,total:0,carrito:[],load_data:!0,envio:1}},methods:{init_carrito(){null!=this.$store.state.token&&(this.load_data=!0,this.total=0,S.A.get(this.$url+"/obtener_carrito",{headers:{"Content-Type":"application/json",Authorization:this.$store.state.token}}).then((t=>{for(var a of(console.log(t.data.cart_general),this.n_productos=t.data.cart_general.length,t.data.cart_general)){let t=a.producto.precio*a.cantidad;this.total=this.total+t}this.carrito=t.data.cart_general,this.load_data=!1})))},convertCurrency(t){return q.format(t,{code:"MXN"})},eliminar_producto_cart(t){S.A.delete(this.$url+"/eliminar_producto_carrito/"+t,{headers:{"Content-Type":"application/json",Authorization:this.$store.state.token}}).then((t=>{this.init_carrito(),this.$socket.emit("send_cart",!0)}))}},beforeMount(){this.init_carrito()}},G=e(6262);const H=(0,G.A)(B,[["render",N]]);var J=H}}]);
//# sourceMappingURL=857.9b7d1699.js.map