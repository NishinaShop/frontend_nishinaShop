"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[604],{5604:function(e,t,a){a.r(t),a.d(t,{default:function(){return Z}});var s=a(641),o=a(33);const c={class:"container"},i={class:"row"},l={class:"col-lg-8"},r={class:"block mb-5"},n={class:"block-body"},d={class:"row"},u={class:"mb-4 col-md-6 d-flex align-items-center"},p=["value"],v={class:"ms-3",for:"option0"},k={class:"d-block text-uppercase mb-2"},m={class:"text-muted"},h={class:"text-muted"},b={class:"mb-5"},L={class:"cart"},g={class:"cart-wrapper"},f={class:"cart-body"},_={class:""},x={class:"row d-flex align-items-center text-center"},y={class:"col-6"},C={class:"d-flex align-items-center"},w={href:"detail.html"},T=["src"],A={class:"cart-title text-start"},E={class:"text-uppercase text-dark",href:"detail.html"},P={class:"text-muted text-sm"},X={class:"text-muted text-sm"},F={class:"col-2"},$={class:"col-2"},j={class:"col-2 text-center"},z={class:"mb-5 d-flex justify-content-between flex-column flex-lg-row"},M={class:"col-lg-4"},q={class:"block mb-5"},G={class:"block-body bg-light pt-1"},R={class:"order-summary mb-0 list-unstyled"},W={class:"order-summary-item"},B={class:"ms-6"},D={class:"order-summary-item"},I={class:"ms-6"},K={class:"order-summary-item border-0"},N={class:"order-summary-total ms-6"},S={class:"block mb-5"},H={class:"block-footer"};function J(e,t,a,J,O,Q){const U=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",null,[t[16]||(t[16]=(0,s.Fv)('<section class="hero"><div class="container"><div class="hero-content pb-5 text-center mt-4"><h3 class="">Checkout</h3><div class="row"><div class="col-xl-8 offset-xl-2"><p class="lead text-muted">Por favor revisa tu orden.</p></div></div></div></div></section>',1)),(0,s.Lk)("section",null,[(0,s.Lk)("div",c,[(0,s.Lk)("div",i,[(0,s.Lk)("div",l,[(0,s.Lk)("div",r,[t[4]||(t[4]=(0,s.Lk)("div",{class:"block-header"},[(0,s.Lk)("h6",{class:"text-uppercase mb-0"},[(0,s.Lk)("b",null,"Dirección de entrega")])],-1)),(0,s.Lk)("div",n,[(0,s.Lk)("div",d,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(O.direcciones,(e=>((0,s.uX)(),(0,s.CE)("div",u,[(0,s.Lk)("input",{type:"radio",name:"shippping",id:"option0",value:e._id,onChange:t[0]||(t[0]=e=>Q.seleccionar_direccion(e))},null,40,p),(0,s.Lk)("label",v,[(0,s.Lk)("strong",k,(0,o.v_)(e.calle+", "+e.colonia),1),(0,s.Lk)("span",m,(0,o.v_)("CP: "+e.codigo_postal+", "+e.ciudad+", "+e.estado),1),t[2]||(t[2]=(0,s.eW)()),t[3]||(t[3]=(0,s.Lk)("br",null,null,-1)),(0,s.Lk)("span",h,(0,o.v_)("Tel: "+e.n_contacto),1)])])))),256))])])]),(0,s.Lk)("div",b,[(0,s.Lk)("div",L,[(0,s.Lk)("div",g,[t[7]||(t[7]=(0,s.Fv)('<div class="cart-header text-center"><div class="row"><div class="col-6"><span class="text-left">Producto</span></div><div class="col-2">Precio</div><div class="col-2">Cantidad</div><div class="col-2">Total</div></div></div>',1)),(0,s.Lk)("div",f,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(O.productos,(a=>((0,s.uX)(),(0,s.CE)("div",_,[(0,s.Lk)("div",x,[(0,s.Lk)("div",y,[(0,s.Lk)("div",C,[(0,s.Lk)("a",w,[(0,s.Lk)("img",{class:"cart-item-img",src:e.$url+"/obtener_portada_producto/"+a.producto.portada,alt:"..."},null,8,T)]),(0,s.Lk)("div",A,[(0,s.Lk)("a",E,[(0,s.Lk)("strong",null,(0,o.v_)(a.producto.nombre.substr(0,20)),1)]),t[5]||(t[5]=(0,s.Lk)("br",null,null,-1)),(0,s.Lk)("span",P,"Talla: "+(0,o.v_)(a.variedad.talla),1),t[6]||(t[6]=(0,s.Lk)("br",null,null,-1)),(0,s.Lk)("span",X,"Color: "+(0,o.v_)(a.variedad.color),1)])])]),(0,s.Lk)("div",F,(0,o.v_)(Q.convertCurrency(a.producto.precio)),1),(0,s.Lk)("div",$,(0,o.v_)(a.cantidad),1),(0,s.Lk)("div",j,(0,o.v_)(Q.convertCurrency(a.producto.precio*a.cantidad)),1)])])))),256))])])])]),(0,s.Lk)("div",z,[(0,s.bF)(U,{class:"btn btn-dark",to:"/detalles_carrito"},{default:(0,s.k6)((()=>t[8]||(t[8]=[(0,s.Lk)("i",{class:"fa fa-angle-left me-2"},null,-1),(0,s.eW)("Regresar al carrito")]))),_:1}),t[9]||(t[9]=(0,s.Lk)("a",{class:"btn btn-dark",href:"checkout5.html"},[(0,s.eW)("Generar la orden"),(0,s.Lk)("i",{class:"fa fa-angle-right ms-2"})],-1))])]),(0,s.Lk)("div",M,[(0,s.Lk)("div",q,[t[14]||(t[14]=(0,s.Lk)("div",{class:"block-header"},[(0,s.Lk)("h6",{class:"text-uppercase mb-0"},[(0,s.Lk)("b",null,"Tu orden")])],-1)),(0,s.Lk)("div",G,[t[13]||(t[13]=(0,s.Lk)("p",{class:"text-sm"},"El costo del envio puede variar dependiendode Codigo postal.",-1)),(0,s.Lk)("ul",R,[(0,s.Lk)("li",W,[t[10]||(t[10]=(0,s.Lk)("span",null,"Subtotal: ",-1)),(0,s.Lk)("span",B,(0,o.v_)(Q.convertCurrency(O.total)),1)]),(0,s.Lk)("li",D,[t[11]||(t[11]=(0,s.Lk)("span",null,"Envio:",-1)),(0,s.Lk)("span",I,(0,o.v_)(Q.convertCurrency(O.envio)),1)]),(0,s.Lk)("li",K,[t[12]||(t[12]=(0,s.Lk)("span",null,"Total:",-1)),(0,s.Lk)("strong",N,(0,o.v_)(Q.convertCurrency(O.total+O.envio)),1)])])])]),(0,s.Lk)("div",S,[t[15]||(t[15]=(0,s.Fv)('<div class="block-header"><h6 class="text-uppercase mb-0"><b>Método de pago </b></h6></div><div class="block-body bg-light pt-1 mb-3"><div class="col-md-12 mb-2"><span class="d-block mb-2" style="letter-spacing:0px;font-weight:600;">Tarjeta de crédito o débito</span><div class="row"><div class="col-12 mb-2"><img style="width:180px;"></div><div class="col-12"><p class="text-muted" style="font-size:13px;"> (Luego de hacer clic en &quot;PAGAR&quot; será redirigido a Mercado Pago de forma segura para completar su compra).</p></div></div></div><div class="col-md-12"><p class="text-sm" style="margin-bottom:0.4rem;">Deberes e impuestos no están incluidos en paquetes con envio internacional. /Tus datos personales serán utilizados para procesar tu pedido y respaldar tu experiencia en este sitio web.</p><a><b> Términos &amp; Privacidad.</b></a></div></div>',2)),(0,s.Lk)("div",H,[(0,s.Lk)("a",{class:"btn btn-dark",id:"btnBuy",style:{cursor:"pointer",width:"100%"},onClick:t[1]||(t[1]=e=>Q.mecadopago())},"PAGAR")])])])])])])])}var O=a(4335),Q=a(4329),U={name:"pagoCartApp",data(){return{direcciones:[],productos:[],total:0,envio:1,load_data:!0,venta:{},items:[]}},methods:{init_carrito(){null!=this.$store.state.token&&(this.load_data=!0,this.total=0,O.A.get(this.$url+"/obtener_carrito",{headers:{"Content-Type":"application/json",Authorization:this.$store.state.token}}).then((e=>{for(var t of(console.log(e.data.cart_general),this.n_productos=e.data.cart_general.length,e.data.cart_general)){let e=t.producto.precio*t.cantidad;this.total=this.total+e,this.items.push({id:t.producto._id,title:t.producto.nombre,quantity:t.cantidad,currency_id:"MXN",unit_price:t.producto.precio})}this.productos=e.data.cart_general,this.load_data=!1})))},convertCurrency(e){return Q.format(e,{code:"MXN"})},init_direcciones(){O.A.get(this.$url+"/obtener_direccion_cliente",{headers:{"Content-Type":"application/json",Authorization:this.$store.state.token}}).then((e=>{this.direcciones=e.data.direccion}))},seleccionar_direccion(e){this.venta.direccion=e.target.value},mecadopago(){let e={back_urls:{success:"https://nishinashop.onrender.com/validation/success",pending:"https://nishinashop.onrender.com/validation/pending",failure:"https://nishinashop.onrender.com/validation/failure"},items:this.items,auto_return:"approved"};O.A.post("https://api.mercadopago.com/checkout/preferences",e,{headers:{"Content-Type":"application/json",Authorization:"Bearer TEST-7802715175959909-050803-6580fa6051eed313c72af5b01407940f-2426338693"}}).then((e=>{window.location.href=e.data.sandbox_init_point})).catch((e=>{console.error("Error detallado:",{status:e.response?.status,data:e.response?.data,message:e.message})}))}},beforeMount(){this.init_carrito(),this.init_direcciones()}},V=a(6262);const Y=(0,V.A)(U,[["render",J]]);var Z=Y}}]);
//# sourceMappingURL=604.951acce9.js.map